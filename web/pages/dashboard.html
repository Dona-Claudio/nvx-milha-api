<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dashboard - NVX Fibra LTDA</title>
  <link rel="stylesheet" href="../styles/global.css">
  <link rel="stylesheet" href="../styles/dashboard.css">
</head>
<body>
  <div class="dashboard-wrapper">
    <!-- Header -->
    <header class="header">
      <div class="header-content">
        <div class="header-logo">NVX FIBRA LTDA</div>
        <div class="header-user">
          <div class="user-info">
            <div class="user-email" id="userEmail">usuario@email.com</div>
          </div>
          <button class="btn-logout" id="logoutBtn">Sair</button>
        </div>
      </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
      <!-- Search Section -->
      <div class="search-section">
        <div class="search-header">
          <h2>Minhas Milhas</h2>
          <button class="btn-new-milha" id="btnNewMilha">+ Nova Milha</button>
        </div>

        <div class="search-input-group">
          <input 
            type="text" 
            id="searchInput" 
            placeholder="Buscar por nome, cliente ou IP..." 
          >
          <button class="btn-search" id="btnSearch">Buscar</button>
        </div>
      </div>

      <!-- Alerts -->
      <div id="alertContainer"></div>

      <!-- Milhas List Section -->
      <div class="milhas-section">
        <div id="milhasContainer"></div>
      </div>
    </div>
  </div>

  <!-- Modal para Criar/Editar Milha -->
  <div class="modal" id="milhaModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 id="modalTitle">Nova Milha</h2>
        <button class="modal-close" id="modalClose">&times;</button>
      </div>

      <form class="modal-form" id="milhaForm">
        <div class="form-group">
          <label for="nomeMilha">Nome da Milha *</label>
          <input 
            type="text" 
            id="nomeMilha" 
            name="nomeMilha" 
            placeholder="Ex: Milha Centro" 
            required
          >
          <div class="form-error" id="nomeMilhaError"></div>
        </div>

        <div class="form-group">
          <label for="cliente">Cliente *</label>
          <input 
            type="text" 
            id="cliente" 
            name="cliente" 
            placeholder="Ex: Cliente ABC Ltda" 
            required
          >
          <div class="form-error" id="clienteError"></div>
        </div>

        <div class="form-group">
          <label for="ip">IP *</label>
          <input 
            type="text" 
            id="ip" 
            name="ip" 
            placeholder="Ex: 192.168.1.1" 
            required
          >
          <div class="form-error" id="ipError"></div>
        </div>

        <div class="modal-actions">
          <button type="button" class="btn-cancel" id="btnCancelModal">Cancelar</button>
          <button type="submit" class="btn-confirm" id="btnSubmitForm">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal para Confirmação de Exclusão -->
  <div class="modal" id="deleteConfirmModal">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Confirmar Exclusão</h2>
        <button class="modal-close" id="deleteModalClose">&times;</button>
      </div>

      <p>Tem certeza que deseja deletar esta milha? Esta ação não pode ser desfeita.</p>

      <div class="modal-actions">
        <button type="button" class="btn-cancel" id="btnCancelDelete">Cancelar</button>
        <button type="button" class="btn-delete" id="btnConfirmDelete">Deletar</button>
      </div>
    </div>
  </div>

  <script src="../scripts/api-client.js"></script>
  <script src="../scripts/auth-service.js"></script>
  <script src="../scripts/milha-service.js"></script>
  <script src="../scripts/ui-manager.js"></script>
  <script src="../scripts/dashboard.js"></script>
</body>
</html>
